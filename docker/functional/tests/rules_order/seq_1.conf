listen {
  host "*"
  port 6432
}

storage "pg" {
  type "remote"
  host "127.0.0.1"
  port 5432
}

storage "vdb-storage" {
  type "local"
}

database "vdb" {
  user "vuser" {
    authentication "none"
    storage "vdb-storage"
    pool "session"
  }
}

database "db1" {
  user "db1u1" host {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "db1u1" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "db1u2" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "db1u1" "10.0.14.89/24" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "db1u2" "10.13.37.10/24" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "db1u2" hostssl "10.13.37.10/24" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user default "10.14.89.10/24" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user default "10.14.89.10/24" local {
    authentication "none"
    storage "pg"
    pool "transaction"
  }
}

database default {
  user "user1" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user "user1" "10.0.0.12/24" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user default hostnossl {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user default "localhost" {
    authentication "none"
    storage "pg"
    pool "transaction"
  }

  user default {
    authentication "none"
    storage "pg"
    pool "transaction"
  }
}

daemonize yes

unix_socket_dir "/tmp"
unix_socket_mode "0644"

locks_dir "/tmp"

log_format "%p %t %l [%i %s] (%c) %m\n"
log_to_stdout yes
log_config yes
log_debug no
log_session yes
log_stats no
log_query no

sequential_routing yes

coroutine_stack_size 24